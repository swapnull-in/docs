---
title: "TypeScript SDK"
description: "Official TypeScript/JavaScript SDK for Node.js and browsers"
---

## Installation

```bash
npm install @recurso/sdk
# or
yarn add @recurso/sdk
# or
pnpm add @recurso/sdk
```

## Quick Start

```typescript
import Recurso from '@recurso/sdk';

const recurso = new Recurso({
  apiKey: process.env.RECURSO_API_KEY
});

// Create a customer
const customer = await recurso.customers.create({
  name: 'Acme Corp',
  email: 'billing@acme.com'
});

// Start a subscription
const subscription = await recurso.subscriptions.create({
  customer_id: customer.id,
  plan_id: 'plan_pro'
});
```

## Configuration

```typescript
const recurso = new Recurso({
  apiKey: 'rsk_live_xxx',
  
  // Optional settings
  baseUrl: 'https://api.recurso.dev',  // For self-hosted
  timeout: 30000,                       // Request timeout (ms)
  maxRetries: 3,                        // Auto-retry attempts
  debug: false                          // Enable debug logging
});
```

## Resources

### Customers

```typescript
// Create
const customer = await recurso.customers.create({
  name: 'Acme Corp',
  email: 'billing@acme.com',
  gstin: '29ABCDE1234F1Z5'
});

// Get
const customer = await recurso.customers.get('cust_abc');

// Update
await recurso.customers.update('cust_abc', {
  email: 'new@acme.com'
});

// List
const { data, hasMore } = await recurso.customers.list({
  limit: 20
});

// Delete
await recurso.customers.delete('cust_abc');
```

### Plans

```typescript
// Create
const plan = await recurso.plans.create({
  name: 'Pro Plan',
  interval: 'month',
  prices: [{ amount: 4999, currency: 'INR' }]
});

// List
const plans = await recurso.plans.list({ active: true });
```

### Subscriptions

```typescript
// Create
const subscription = await recurso.subscriptions.create({
  customer_id: 'cust_abc',
  plan_id: 'plan_pro'
});

// Cancel
await recurso.subscriptions.cancel('sub_xyz', {
  cancel_at_period_end: true
});

// Update
await recurso.subscriptions.update('sub_xyz', {
  plan_id: 'plan_enterprise'
});
```

### Invoices

```typescript
// List
const invoices = await recurso.invoices.list({
  customer_id: 'cust_abc',
  status: 'open'
});

// Pay
await recurso.invoices.pay('inv_001');

// PDF
const pdf = await recurso.invoices.pdf('inv_001');
```

## Error Handling

```typescript
import { RecursoError, NotFoundError, ValidationError } from '@recurso/sdk';

try {
  await recurso.customers.get('invalid_id');
} catch (error) {
  if (error instanceof NotFoundError) {
    console.log('Customer not found');
  } else if (error instanceof ValidationError) {
    console.log('Validation errors:', error.errors);
  } else if (error instanceof RecursoError) {
    console.log('API error:', error.message);
  }
}
```

## Pagination

```typescript
// Manual pagination
let page = await recurso.customers.list({ limit: 20 });

while (page.hasMore) {
  for (const customer of page.data) {
    console.log(customer.name);
  }
  page = await page.next();
}

// Auto-pagination
for await (const customer of recurso.customers.listAll()) {
  console.log(customer.name);
}
```

## Webhooks

```typescript
import express from 'express';

app.post('/webhooks/recurso', 
  express.raw({ type: 'application/json' }),
  (req, res) => {
    const signature = req.headers['recurso-signature'] as string;
    
    const event = recurso.webhooks.constructEvent(
      req.body,
      signature,
      process.env.WEBHOOK_SECRET!
    );
    
    switch (event.type) {
      case 'subscription.activated':
        handleActivation(event.data);
        break;
      case 'payment.failed':
        handleFailure(event.data);
        break;
    }
    
    res.sendStatus(200);
  }
);
```

## TypeScript Types

Full TypeScript support with exported types:

```typescript
import type { 
  Customer, 
  Plan, 
  Subscription, 
  Invoice 
} from '@recurso/sdk';

function processSubscription(sub: Subscription) {
  console.log(sub.status);
}
```
